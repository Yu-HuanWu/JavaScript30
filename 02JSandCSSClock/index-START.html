<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>It's 5 o'Clock Somewhere</title>
</head>
<body>
  <background>
    <h1>It is 5 o'Clock in</h1>
    <h1 class="location"></h1>
    <div class="clock">
      <div class="clock-face">
        <div class="hand hour-hand"></div>
        <div class="hand min-hand"></div>
        <div class="hand second-hand"></div>
      </div>
    </div>
  </background>


  <style>
    html {
      background: #070707;
      background-size: cover;
      font-family: 'helvetica neue';
      text-align: center;
      font-size: 10px;
    }

    body {
      margin: 0;
      font-size: 2rem;
      display: flex;
      flex-direction: column;
      flex: 1;
      min-height: 100vh;
      align-items: center;
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      backdrop-filter: blur(8px);
    }

    background {
      backdrop-filter: blur(3px);
      margin: 0;
      font-size: 2rem;
      min-height: 100vh;
      min-width: 100vw;
      align-items: center;
    }

    .clock {
      width: 30rem;
      height: 30rem;
      border: 20px solid white;
      border-radius: 50%;
      background-color: #00000039;
      margin: 50px auto;
      position: relative;
      padding: 2rem;
      box-shadow:
        0 0 0 9px rgba(0,0,0,0.5),
        inset 0 0 0 3px #EFEFEF,
        inset 0 0 10px black,
        0 0 10px rgba(0,0,0,0.3);
    }

    .clock-face {
      position: relative;
      width: 100%;
      height: 100%;
      transform: translateY(-3px); /* account for the height of the clock hands */
    }

    .hand {
      width: 50%;
      height: 6px;
      background: black;
      position: absolute;
      top: 50%;
      transform-origin: 100%;
      transform: rotate(90deg);
      transition: all 0.05s;
      transition-timing-function: cubic-bezier(0.1, 2.7, 0.58, 1);
    }

    .hour-hand {
      width: 35%;
      right: 50%;
      background: rgb(255, 255, 255);
    }

    .min-hand {
      height: 6px;
      background: rgb(255, 255, 255);
    }

    .second-hand {
      height: 4px;
      width: 55%;
      right: 50%;
      background: #ff6600;
    }

    .no-transition {
      transition: none;
    }

    h1 {
      color:#ff6600;
    }

  </style>

  <script>
    const secondHand = document.querySelector('.second-hand');
    const minsHand = document.querySelector('.min-hand');
    const hourHand = document.querySelector('.hour-hand');
    const TimeZones = [
      { timezone: "Asia/Tokyo", name: "", image: "", imageCredit: "" },
      { timezone: "Asia/Seoul", name: "", image: "", imageCredit: "" },
      { timezone: "America/New_York", name: "", image: "", imageCredit: "" },
      { timezone: "America/Sao_Paulo", name: "", image: "", imageCredit: "" },
      { timezone: "Africa/Cairo", name: "", image: "", imageCredit: "" },
      { timezone: "America/Los_Angeles", name: "", image: "", imageCredit: "" },
      { timezone: "Asia/Bangkok", name: "", image: "", imageCredit: "" },
      { timezone: "Europe/Istanbul", name: "", image: "", imageCredit: "" },
      { timezone: "Europe/Paris", name: "", image: "", imageCredit: "" },
      { timezone: "Europe/London", name: "", image: "", imageCredit: "" },
      { timezone: "America/Chicago", name: "", image: "", imageCredit: "" },
      { timezone: "America/Bogota", name: "", image: "", imageCredit: "" },
      { timezone: "Asia/Ho_Chi_Minh", name: "", image: "", imageCredit: "" },
      { timezone: "Asia/Taipei", name: "", image: "", imageCredit: "" },
      { timezone: "Asia/Hong_Kong", name: "", image: "", imageCredit: "" },
      { timezone: "America/Toronto", name: "", image: "", imageCredit: "" },
      { timezone: "Asia/Singapore", name: "", image: "", imageCredit: "" },
      { timezone: "Africa/Nairobi", name: "", image: "", imageCredit: "" },
      { timezone: "Africa/Accra", name: "", image: "", imageCredit: "" },
      { timezone: "Australia/Sydney", name: "", image: "", imageCredit: "" },
      { timezone: "Europe/Rome", name: "", image: "", imageCredit: "" },
      { timezone: "Australia/Melbourne", name: "", image: "", imageCredit: "" },
      { timezone: "Europe/Athens", name: "", image: "", imageCredit: "" },
      { timezone: "Europe/Kiev", name: "", image: "", imageCredit: "" },
      { timezone: "Asia/Pyongyang", name: "", image: "", imageCredit: "" },
      { timezone: "Europe/Lisbon", name: "", image: "", imageCredit: "" },
      { timezone: "Asia/Baku", name: "", image: "", imageCredit: "" },
      { timezone: "Africa/Algiers", name: "", image: "", imageCredit: "" },
      { timezone: "America/Puerto_Rico", name: "", image: "", imageCredit: "" },
      { timezone: "America/Vancouver", name: "", image: "", imageCredit: "" },
      { timezone: "America/Havana", name: "", image: "", imageCredit: "" },
      { timezone: "Africa/Tunis", name: "", image: "", imageCredit: "" },
      { timezone: "America/Belem", name: "", image: "", imageCredit: "" },
      { timezone: "America/Tijuana", name: "", image: "", imageCredit: "" },
      { timezone: "Australia/Perth", name: "", image: "", imageCredit: "" },
      { timezone: "Europe/Amsterdam", name: "", image: "", imageCredit: "" },
      { timezone: "Asia/Almaty", name: "", image: "", imageCredit: "" },
      { timezone: "Pacific/Auckland", name: "", image: "", imageCredit: "" },
      { timezone: "Europe/Prague", name: "", image: "", imageCredit: "" },
      { timezone: "America/Guatemala", name: "", image: "", imageCredit: "" },
      { timezone: "Asia/Yerevan", name: "", image: "", imageCredit: "" },
      { timezone: "Asia/Ulaanbaatar", name: "", image: "", imageCredit: "" },
      { timezone: "America/Costa_Rica", name: "", image: "", imageCredit: "" },
      { timezone: "Asia/Tbilisi", name: "", image: "", imageCredit: "" },
      { timezone: "America/Jamaica", name: "", image: "", imageCredit: "" },
      { timezone: "Pacific/Fiji", name: "", image: "", imageCredit: "" },
      { timezone: "Indian/Reunion", name: "", image: "", imageCredit: "" },
      { timezone: "Asia/Jerusalem", name: "", image: "", imageCredit: "" },
      { timezone: "America/Guyana", name: "", image: "", imageCredit: "" },
      { timezone: "America/Winnipeg", name: "", image: "", imageCredit: "" },
      { timezone: "Europe/Riga", name: "", image: "", imageCredit: "" },
      { timezone: "America/Cancun", name: "", image: "", imageCredit: "" },
      { timezone: "Asia/Sakhalin", name: "", image: "", imageCredit: "" },
      { timezone: "Atlantic/Cape_Verde", name: "", image: "", imageCredit: "" },
      { timezone: "Asia/Ashgabat", name: "", image: "", imageCredit: "" },
      { timezone: "America/Halifax", name: "", image: "", imageCredit: "" },
      { timezone: "Africa/Bissau", name: "", image: "", imageCredit: "" },
      { timezone: "Pacific/Honolulu", name: "", image: "", imageCredit: "" },
      { timezone: "Indian/Maldives", name: "", image: "", imageCredit: "" },
      { timezone: "America/Anchorage", name: "", image: "", imageCredit: "" },
      { timezone: "America/Barbados", name: "", image: "", imageCredit: "" },
      { timezone: "Asia/Yakutsk", name: "", image: "", imageCredit: "" },
      { timezone: "Asia/Aqtobe", name: "", image: "", imageCredit: "" },
      { timezone: "Atlantic/Madeira", name: "", image: "", imageCredit: "" },
      { timezone: "Atlantic/Azores", name: "", image: "", imageCredit: "" },
      { timezone: "America/Boise", name: "", image: "", imageCredit: "" },
      { timezone: "Asia/Kamchatka", name: "", image: "", imageCredit: "" },
      { timezone: "Pacific/Tahiti", name: "", image: "", imageCredit: "" },
      { timezone: "Pacific/Guam", name: "", image: "", imageCredit: "" },
      { timezone: "America/Araguaina", name: "", image: "", imageCredit: "" },
      { timezone: "Asia/Kuching", name: "", image: "", imageCredit: "" },
      { timezone: "Atlantic/Reykjavik", name: "", image: "", imageCredit: "" },
      { timezone: "Asia/Magadan", name: "", image: "", imageCredit: "" },
      { timezone: "America/Bahia_Banderas", name: "", image: "", imageCredit: "" },
      { timezone: "Asia/Hovd", name: "", image: "", imageCredit: "" },
      { timezone: "Europe/Andorra", name: "", image: "", imageCredit: "" },
      { timezone: "Asia/Thimphu", name: "", image: "", imageCredit: "" },
      { timezone: "Indian/Mahe", name: "", image: "", imageCredit: "" },
      { timezone: "Pacific/Tongatapu", name: "", image: "", imageCredit: "" },
      { timezone: "Pacific/Efate", name: "", image: "", imageCredit: "" },
      { timezone: "Atlantic/Bermuda", name: "", image: "", imageCredit: "" },
      { timezone: "America/Belize", name: "", image: "", imageCredit: "" },
      { timezone: "Atlantic/Faroe", name: "", image: "", imageCredit: "" },
      { timezone: "Pacific/Chuuk", name: "", image: "", imageCredit: "" },
      { timezone: "Pacific/Apia", name: "", image: "", imageCredit: "" },
      { timezone: "Pacific/Pohnpei", name: "", image: "", imageCredit: "" },
      { timezone: "America/Juneau", name: "", image: "", imageCredit: "" },
      { timezone: "Europe/Gibraltar", name: "", image: "", imageCredit: "" },
      { timezone: "Pacific/Majuro", name: "", image: "", imageCredit: "" },
      { timezone: "Pacific/Galapagos", name: "", image: "", imageCredit: "" },
      { timezone: "America/Whitehorse", name: "", image: "", imageCredit: "" },
      { timezone: "Pacific/Palau", name: "", image: "", imageCredit: "" },
      { timezone: "America/Yellowknife", name: "", image: "", imageCredit: "" },
      { timezone: "America/Nuuk", name: "", image: "", imageCredit: "" },
      { timezone: "Pacific/Rarotonga", name: "", image: "", imageCredit: "" },
      { timezone: "Asia/Anadyr", name: "", image: "", imageCredit: "" },
      { timezone: "America/Dawson_Creek", name: "", image: "", imageCredit: "" },
      { timezone: "America/Adak", name: "", image: "", imageCredit: "" },
      { timezone: "Pacific/Gambier", name: "", image: "", imageCredit: "" },
      { timezone: "America/Noronha", name: "", image: "", imageCredit: "" },
    ];

    let fiveOClockLocations = [];
    let locations = {}
    TimeZones.forEach((e)=>{
      let time = new Date().toLocaleString('en-GB', { timeZone: e.timezone })
      let hour = time.substring(12, 14)

      if (locations[hour]) {
        locations[hour].push(e)
      } else {
        locations[hour] = [e]
      }

      if (time.substring(12,14) === '17') {
        console.log(e)
        fiveOClockLocations.push(e.timezone.slice(e.timezone.indexOf('/')+1).replace('_', ' '))
      }
    })

    document.querySelector('.location').innerHTML = fiveOClockLocations[Math.floor(Math.random() * fiveOClockLocations.length)]
    document.body.background = "backgrounds/beerfrog.jpeg";
    console.log(locations)
    function setDate() {
      const now = new Date();

      const seconds = now.getSeconds();
      const secondsDegrees = ((seconds / 60) * 360) + 90;
      if (secondsDegrees === 90) {
        secondHand.classList.add('no-transition');
      } else {
        secondHand.classList.remove('no-transition');
      }
      secondHand.style.transform = `rotate(${secondsDegrees}deg)`;

      const mins = now.getMinutes();
      const minsDegrees = ((mins / 60) * 360) + ((seconds / 60) * 6) + 90;
      minsHand.style.transform = `rotate(${minsDegrees}deg)`;

      const hour = 17
      // console.log(now)
      const hourDegrees = ((hour / 12) * 360) + ((mins / 60) * 30) + 90;
      hourHand.style.transform = `rotate(${hourDegrees}deg)`;
    }

    setInterval(setDate, 1000);

    setDate();

  </script>
</body>
 </html>
